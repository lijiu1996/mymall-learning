# ddd 学习

### 0. ddd理论

DDD核心观点 依赖倒置
    不是业务逻辑去适配代码 而是代码去适配业务逻辑
    设计之初先确定业务边界、领域、接口 后续的迭代在边界、领域内做 不涉及接口的改动或者将改动量最小化

2. DDD四层架构
UI层
    前后端分离 Web、H5、cdn
    原生app   Andriod
    小程序    微信小程序、支付宝小程序
应用层
    服务能力的暴露 http、dubbo、webservice、mq、task executor
    应用容器
领域层    -- 业务
基础设施层 -- db、mq、rpc服务等


### 1. 接口定义

DP

优雅地进行参数校验 

优雅处理胶水逻辑/胶水逻辑需要外部依赖又该如何处理(手机号注册时身份信息以及当前传入的身份信息做校验)

Entity 和 DomainService
Entity 有状态 DP 无状态
DomainService 涉及多个Entity状态改变的Service

添加业务逻辑 -- 对手机号进行实名制校验,此校验需要调用外部服务

面向抽象接口编程

### 2.具体实践

定义领域对象
聚合根
资源访问对象
外部接口防腐层对象

组合成领域服务 -- 一个限界上下文
多个领域服务组合成应用层服务